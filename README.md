# Sand Simulator

Cellular Automaton: https://en.wikipedia.org/wiki/Cellular_automaton  
Клеточный автомат: https://ru.wikipedia.org/wiki/Клеточный_автомат

This is implementation of falling sand using `ebitengine`. Inspired by Noita - the game by Nolla Games.  

Здесь находится реализация падающего песка с использованием `ebitengine`. Проект вдохновлен игрой Noita - от разработчиков Nolla Games.

## Algorithm

В игре есть 2 сетки состояний - одна отвечает за текущие состояния, а вторая отвечает за будущие.
Изначально каждый элемент сетки равен 0. По мере заполнения материалами, в сетке будут появляться значения от 1 до 5.

Алгоритм для песка:
1. Если под пикселем пусто - переместить пиксель вниз
2. Если пусто снизу слева или снизу справа - переместить пиксель случайным образом в одну из двух клеток.

| | | |
| |o| |
|x|x|x|

Алгоритм для воды:
1. Если под пикселем пусто - переместить пиксель вниз
2. Если пусто слева или справа - переместить пиксель случайным образом в одну из двух клеток.

| | | |
|x|o|x|
| |x| |

## Install

0. Убедитесь, что установлена библиотека github.com/hajimehoshi/ebiten/v2
1. Clone this repository
2. go run main.go

В результате запуска появится черное окно. Материал для рисования выбирается на клавишах 1-5. После выбора материала можно рисовать левой кнопкой мыши.
